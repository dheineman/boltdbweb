<!DOCTYPE html>
<html>
    <head>
        <title>BoltDB-Web</title>
        <link rel="stylesheet" href="/web/css/uikit.min.css" />
        <link rel="stylesheet" href="/web/css/uikit.almost-flat.min.css" />
        <link rel="stylesheet" href="/web/css/style.css" />
        <script src="/web/js//jquery-2.2.3.min.js"></script>
        <script src="/web/js/uikit.min.js"></script>
        <script src="/web/js/navigo.min.js"></script>
        <script type="text/javascript" src="/web/js/4.0.5_handlebars.min.js"></script>
        <script type="text/javascript" src="/web/js/main.js"></script>
    </head>
    <body>

        <!-- Header -->
        <div class="uk-container uk-container-center uk-margin-top uk-margin-small-bottom">
            <nav class="uk-navbar uk-margin-bottom">
                <a class="uk-navbar-brand uk-hidden-small" href="/">BoltDB-Web</a>
                <ul class="uk-navbar-nav uk-hidden-small">
                    <li>
                        <a href="/">Form</a>
                    </li>
                    <li>
                        <a href="#/buckets">Buckets</a>
                    </li>
                    <li>
                        <a href="#/prefixScan">Prefix Scan</a>
                    </li>
                </ul>
                <a href="#offcanvas" class="uk-navbar-toggle uk-visible-small" data-uk-offcanvas></a>
                <div class="uk-navbar-brand uk-navbar-center uk-visible-small">BoltDB-Web</div>
            </nav>
        </div>

        <div class="uk-container uk-container-center">
            <!-- Form Page -->
            <div class="uk-vertical-align uk-text-center uk-height-1-1" id="pg1">
                <div class="uk-vertical-align-middle" style="width: 600px;" id="dfata">
                    <form class="uk-panel uk-panel-box uk-form">
                        <div class="uk-form-row">
                            <input class="uk-width-1-1 uk-form-large" type="text" id="bucket" placeholder="Bucket name">
                        </div>
                        <div class="uk-form-row">
                            <input class="uk-width-1-1 uk-form-large" type="text" id="key" placeholder="Key">
                        </div>
                        <div class="uk-form-row">
                            <textarea class="uk-width-1-1 uk-form-large" type="text" id="value" placeholder="value"></textarea>
                        </div>
                        <div class="uk-form-row">
                            <a class="uk-width-1-1 uk-button uk-button-primary uk-button-small" onclick="get()">Get</a>
                        </div>
                        <div class="uk-form-row">
                            <a class="uk-width-1-1 uk-button uk-button-primary uk-button-small" onclick="put()">Put</a>
                        </div>
                        <div class="uk-form-row">
                            <a class="uk-width-1-1 uk-button uk-button-primary uk-button-small" onclick="deleteKey()">Delete key</a>
                        </div>
                        <div class="uk-form-row">
                            <a class="uk-width-1-1 uk-button uk-button-primary uk-button-small" onclick="deleteBucket()">Delete Bucket</a>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Bucket Page -->
            <div class="uk-height-1-1" id="pg2">
                <ul class="breadcrumbs">
                    <li><a href="#/buckets">Buckets</a></li>
                </ul>
                <div id="data"></div>
            </div>

            <!-- Prefix Scan Page -->
            <div class="uk-vertical-align uk-text-center" id="pg3">
                <div class="uk-vertical-align-middle uk-grid" style="width: 600px;text-align:left" id="d">
                    <div class="uk-width-1-3"><input class="uk-form-small" type="text" id="pbucket" placeholder="Bucket name"></div>
                    <div class="uk-width-1-3"><input class="uk-form-small" type="text" id="pkey" placeholder="Key Prefix"></div>
                    <div class="uk-width-1-3"><a class="uk-width-1-1 uk-button uk-button-primary uk-button-large" onclick="prefixScan()">List</a></div>
                </div>

                <br/><br/>
                <div class="uk-vertical-align-middle" style="width: 500px;text-align:left"id="pfs"></div>
            </div>

            <!-- Explore Page -->
            <div class="uk-height-1-1" id="pg4">
                <input type="hidden" id="ebucket">
                <div id="bdc"></div>

                <div id="expl"></div>
            </div>

            <br>
            <br>

            <!-- Log -->
            <div class="uk-height-1-1">
                <div class="uk-vertical-align-middle" style="height:400px;width:100%; background:#f3f3f3;overflow: scroll; text-align:left" id="log">
                    Log: <br/>
                    [0999] Made in Dublin with lots of &#10084; by <a href="https://ie.linkedin.com/in/avinashdsilva" target="_blank">Avi</a>
                </div>
            </div>

            <br/>
            <br/>
        </div>

    </body>

    <script id="template" type="x-tmpl-mustache">
        <table class="uk-table">
            <thead>
                <tr>
                    <th>Bucket</th>
                </tr>
            </thead>

            <tbody>
            {{#list}}
                <tr>
                    <td> <a onclick="doExplore('{{.}}')">{{.}}</a> </td>
                </tr>
            {{/list}}
            </tbody>
        </table>
    </script>


    <script id="prefixtpl" type="x-tmpl-mustache">
        <table class="uk-table">
            <thead>
                <tr>
                    <th>Key</th>
                    <th>Value</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>

            <tbody>
            {{#each list}}
                <tr>
                    <td> {{@key}} </td>
                    <td> {{this}}</td>
                    <td> <a onclick="doEdit('{{@key}}')">[Edit]</a> </td>
                    <td> <a onclick="doDelete('{{@key}}')">[x]</a> </td>
                </tr>
           {{/each}}
            </tbody>
        </table>
    </script>

    <script id="exploretpl" type="x-tmpl-mustache">
        <table class="uk-table">
            <thead>
                <tr>
                    <th>Key</th>
                    <th>Value</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>

            <tbody>
            {{#each list}}
                <tr>
                    {{#Bucket}}
                        <td><a onclick="doExplore('{{@key}}')">{{this.Key}}</a></td>
                    {{/Bucket}}
                    {{^Bucket}}
                        <td>{{this.Key}}</td>
                    {{/Bucket}}
                    <td> {{this.Value}}</td>
                    <td></td>
                    <td></td>
                </tr>
           {{/each}}
            </tbody>
        </table>
    </script>

    <script id="breadcrumbtpl" type="x-tmpl-mustache">
        <ul class="breadcrumbs">
            <li><a href="#/buckets">Buckets</a></li>
            {{#each buckets}}
                <li><a onclick="doExplore('{{this}}')">{{@key}}</a></li>
            {{/each}}
        </ul>
    </script>

</html>
